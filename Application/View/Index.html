<!DOCTYPE html>

<html lang="en">
<head>
  <title>atoum, the modern, simple and intuitive PHP test framework</title>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <meta http-equiv="content-type" content="text/javascript; charset=utf-8" />
  <meta http-equiv="content-type" content="text/css; charset=utf-8" />

  <meta name="viewport" content="initial-scale=1.0" />

  <link rel="stylesheet" href="/Static/Css/UI.css" type="text/css" />
  <link rel="stylesheet" href="/Static/Vendor/prism/plugins/line-numbers/prism-line-numbers.css" type="text/css" />
</head>
<body>

<script type="text/x-handlebars">
  <nav id="menu" aria-selected="false" aria-hidden="true">
    <ul>
      <li>
        <a {{action 'linkTo' 'features'}} id="nav-features">
          <img src="/Static/Image/Icon/Features.svg" />
          features
        </a>
      </li>
      <li>
        <a {{action 'linkTo' 'sources'}} id="nav-source">
          <img src="/Static/Image/Icon/Source.svg" />
          sources
        </a>
      </li>
      <li>
        <a href="http://docs.atoum.org/" id="nav-documentation">
          <img src="/Static/Image/Icon/Documentation.svg" />
          documentations
        </a>
      </li>
      <li>
        <a {{action 'linkTo' 'community'}} id="nav-community">
          <img src="/Static/Image/Icon/Community.svg" />
          community
        </a>
      </li>
      <li>
        <a {{action 'linkTo' 'about'}} id="nav-about">
          <img src="/Static/Image/Icon/About.svg" />
          about
        </a>
      </li>
    </ul>
  </nav>

  <div {{action 'toggleMenu'}} aria-controls="menu">
    <svg viewBox="0 0 100 100">
      <title>Open menu icon</title>
      <desc>N-ARY CIRCLED PLUS OPERATOR</desc>

      <circle cx="50" cy="50" r="40" />
      <line x1="20" y1="50" x2="80" y2="50" transform="rotate(90 50 50)" />
      <line x1="20" y1="50" x2="80" y2="50" />
    </svg>
  </div>

  <div id="body">
    <header>
      {{#link-to 'index' class="bare"}}
        <img src="/Static/Image/Logo/Atoum.png" alt="atoum" />
      {{/link-to}}
    </header>

    <article>
      {{outlet}}
    </article>

    <footer>
      <p>
        atoum is the creation of Frédéric Hardy, all rights reserved.
        See
        <a href="https://raw.githubusercontent.com/atoum/atoum/master/COPYING">the license</a>,
        <a href="https://twitter.com/atoum_org/">Twitter</a> and
        <a href="https://github.com/atoum/">Github</a>.
      </p>
    </footer>
  </div>
</script>

<script type="text/x-handlebars" id="index">
  <h1>atoum</h1>

  <p style="text-align: center">
    <a
      aria-label="Star atoum/atoum on GitHub"
      data-count-aria-label="# stargazers on GitHub"
      data-count-api="/repos/atoum/atoum#stargazers_count"
      data-count-href="/atoum/atoum/stargazers"
      data-style="mega"
      data-icon="octicon-star"
      href="https://github.com/atoum/atoum"
      class="github-button">Star</a>
    <a
      aria-label="Fork atoum/atoum on GitHub"
      data-count-aria-label="# forks on GitHub"
      data-count-api="/repos/atoum/atoum#forks_count"
      data-count-href="/atoum/atoum/network"
      data-style="mega"
      data-icon="octicon-repo-forked"
      href="https://github.com/atoum/atoum/fork"
      class="github-button">Fork</a>
    <a
      aria-label="Download atoum/atoum on GitHub"
      data-style="mega"
      data-icon="octicon-cloud-download"
      href="https://github.com/atoum/atoum/releases/latest"
      class="github-button">Download</a>
    <br />
    atoum is a <strong>simple</strong>, <strong>modern</strong> and
    <strong>intuitive</strong> unit testing framework for PHP! It is completly
    <strong>standalone</strong>, everything is available and <strong>works out
    of the box</strong>:
  </p>

  <ul>
    <li data-item="★">
      <strong>Tests isolation</strong> and <strong>parallelization</strong> to
      get better performances and avoid side-effects on tests,
    </li>
    <li data-item="★">
      <strong>Full-features mock engine</strong>,
    </li>
    <li data-item="★">
      <strong>Adapters</strong> to fake PHP functions,
    </li>
    <li data-item="★">
      <strong>Virtual streams</strong> to mock filesystem,
    </li>
    <li data-item="★">
      And many more!
    </li>
  </ul>
</script>

<script type="text/x-handlebars" id="features">
  <h1>Features</h1>

  <p class="header__paragraph">
    atoum is a full-featured testing framework. Judge for yourself.
  </p>

  <section class="visual-section">
    <h2>Flexible structure</h2>

    <p>Test suites, test cases, directory names… feel free to rename everything
    to fit your particular needs.</p>
  </section>

  <section class="visual-section">
    <h2>Execution engines</h2>

    <p>By default, atoum provides three execution engines:</p>
    <ul class="bare block-list">
      <li style="max-width: 25%">
        <figure>
          <svg viewBox="0 0 100 100" style="max-width: 100px">
            <rect x="0" y="0" width="100" height="100" stroke="#000" fill="none" />
          </svg>
        </figure>
        <strong>Inline</strong>, one test case after another in the same
        process,
      </li>
      <li style="max-width: 25%">
        <figure>
          <svg viewBox="0 0 100 100" style="max-width: 100px">
            <rect x="0" y="0" width="100" height="100" stroke="#000" fill="none" />
          </svg>
        </figure>
        <strong>Isolate</strong>, one test case after another but each time in a
        new process,
      </li>
      <li style="max-width: 25%">
        <figure>
          <svg viewBox="0 0 100 100" style="max-width: 100px">
            <rect x="0" y="0" width="100" height="100" stroke="#000" fill="none" />
          </svg>
        </figure>
        <strong>Concurrent</strong>, “all” test cases at the same time in
        separated processes.
      </li>
    </ul>
    <p>A specific engine can be defined per test case in addition to a default
    one with the <code>@engine</code> annotation.</p>
    <p>Using the concurrent engine will provide a faster feedback, this will
    accelerate your development.</p>
  </section>

  <section class="visual-section">
    <h2>Vocabulary</h2>

    <p>Depending of the kind of tests we are making, there is several ways to
    write a test case. The “classic” (old) way is procedural:</p>
    <pre>{{#super-code language="php"}}$x      = 1;
$y      = 2;
$result = $x + $y;

$this->assertTrue($result === 3);{{/super-code}}</pre>
    <p>The “smarter” way by really using atoum's asserters:</p>
    <pre>{{#super-code language="php"}}$x      = 1;
$y      = 2;
$result = $x + $y;

$this->integer($result)->isEqualTo(3);{{/super-code}}</pre>
    <p>The “academic” way:</p>
    <pre>{{#super-code language="php"}}$this
    ->given(
        $x = 1,
        $y = 2
    )
    ->when($result = $x + $y)
    ->then
        ->integer($result)
            ->isEqualTo(3);{{/super-code}}</pre>
    <p>In the later example, the <code>given</code>, <code>when</code> and
    <code>then</code> keywords are “empty asserters”. They execute nothing.
    They are used to provide a better test case design.</p>

  </section>

  <section class="visual-section">
    <h2>Meaningful asserters</h2>

    <p>atoum provides a
    <a href="http://docs.atoum.org/en/latest/chapter2.html#asserters">full-featured
    set of natural and expressive assertions</a> making test cases as much readable
    as possible. The following example asserts the integer <code>150</code> is
    greater than <code>100</code> and lower than or equal to
    <code>200</code>:</p>
    <pre>{{#super-code language="php"}}$this
    ->integer(150)
        ->isGreaterThan(100)
        ->isLowerThanOrEqualTo(200);{{/super-code}}</pre>
    <p>The following example asserts that <code>1 - 0.97</code> is nearly equal
    to <code>0.03</code> (which is
    <a href="http://www.floating-point-gui.de/errors/comparison/">strictly
    false in Computer Science</a>):</p>
    <pre>{{#super-code language="php"}}$this
    ->float(1 - 0.97)
        ->isNearlyEqualTo(0.03) // passes
        ->isEqualTo(0.03);      // fails{{/super-code}}</pre>
    <p>Arrays, strings, objects, exceptions… all of them have specific
    collections of asserters. In addition to provide a better readability,
    they provide a better <strong>feedback</strong> when a test fails because
    atoum knows what you meant to do.</p>
    <p>A “<strong>diff</strong>” between the expected value and the
    computed value is also produced when a test fails.</p>
  </section>

  <section class="visual-section">
    <h2>Mocks</h2>

    <p>Mocks able to close dependencies of your system under test. Test
    cases will be faster to build and to execute. atoum provides mocking
    for:</p>
    <ul>
      <li><strong>Classes</strong>, by simply using the top-namespace
      <code>mock</code> (case insensitive); for instance, the following example
      will mock the <code>Foo\Bar</code> class and will provide a new
      implementation for the <code>methodBaz</code> method:</li>
    </ul>
    <pre>{{#super-code language="php"}}$mockedObject = new \Mock\Foo\Bar();
$this->calling($mockedObject)->methodBaz = function ($x) {
    return $x * 2;
};{{/super-code}}</pre>
    <ul>
      <li><strong>Functions</strong>, by using the <code>function</code>
      “asserter”; the following example will mock the
      <a href="http://php.net/session_start"><code>session_start</code></a> PHP
      function and will provide a new implementation:</li>
    </ul>
    <pre>{{#super-code language="php"}}$this->function->session_start = function () {
    return false;
};{{/super-code}}</pre>
    <ul>
      <li><strong>Constants</strong>, by using the <code>constant</code>
      “asserter”; the following example will mock the
      <a href="http://php.net/phpversion"><code>PHP_VERSION_ID</code></a>
      constant and will provide a new value:</li>
    </ul>
    <pre>{{#super-code language="php"}}$this->constant->PHP_VERSION_ID = 606060; // troll spotted{{/super-code}}</pre>
    <p>Mocks are generated at runtime and they are just that easy to use.</p>
    <p>Of course, you can mock class constructor, you can control the value to
    compute each time a method is called, you can assert that a method has
    been called at least once etc.</p>
  </section>

  <section class="visual-section">
    <h2>Virtual file system</h2>

    <p>When manipulating files or directories, having real files is not
    required. atoum provides a virtual file system allowing to fake real files
    and directories. Enter <code>atoum://</code>. The following example will
    create a virtual file and the resulting resource can be used like any other
    regular file resources:</p>
    <pre>{{#super-code language="php"}}$file = atoum\mock\streams\fs\file::get('fakeFile');
fwrite($file, 'foobar');
rewind($file);
// …
stream_get_contents($file); // string(6) "foobar"{{/super-code}}</pre>
    <p>As expected, you can control the permissions, the ownership, different
    times, content, parents etc.</p>
  </section>

  <section class="visual-section">
    <h2>Reports</h2>

    <p>Either test suites are run by one single user, or by a continous
    integration server. In both cases (but most importantly in the latter),
    having test reports is crucial to understand failures, regressions,
    performances etc. That's why atoum is able to produce several reports
    like:</p>
    <ul>
      <li><a href="http://testanything.org/">TAP</a>, the Test Anything
      Protocol, a language agnostic format,</li>
      <li><a href="https://confluence.atlassian.com/display/CLOVER/Clover+Documentation+Home">clover</a>,
      a software and a format for test reports,</li>
      <li><a href="https://wiki.jenkins-ci.org/display/JENKINS/xUnit+Plugin">xUnit</a>,
      a Jenkins plugin and a format for test reports,</li>
      <li>Your own, yes, this is really easy to plug your own reporter.</li>
    </ul>
    <p>Whatever you are using <a href="https://jenkins-ci.org/">Jenkins</a>,
    <a href="https://travis-ci.org/">Travis</a> or any other well-known
    softwares, they are likely to understand atoum.</p>
  </section>

  <section class="visual-section">
    <h2>Loop and autorun modes</h2>

    <p>In order to help you as much as possible, atoum provides the <strong>loop
    mode</strong>. Simply using the <code>--loop</code> option on the
    command-line tool will run all the tests and it will wait you to press
    <kbd>Enter</kbd> before restarting the run. If test cases were failling,
    atoum will <strong>only re-run these ones</strong>. You will save time and
    CPU. If no test cases were failling, atoum will re-run all your test
    suites.</p>
    <pre>{{#super-code language="shell"}}$ bin/atoum … --loop
…
Press &lt;Enter> to reexecute, press any other key and &lt;Enter> to stop...{{/super-code}}</pre>
    <p>The autorun helps you to run any test cases in any file like a regular
    PHP file if the runner is included. It means you can avoid using the
    command-line tool. Thus, both following examples are equivalent (assuming
    the runner is included):</p>
  <pre>{{#super-code language="shell"}}$ bin/atoum --files Test/Unit/Foo.php
$ # is equivalent to…
$ php Test/Unit/Foo.php{{/super-code}}</pre>
  </section>

  <section class="visual-section">
    <h2>Configuration file in PHP</h2>

    <p>atoum's configuration file is written in PHP. No YAML, no XML, no strange
    language. Only PHP for a maximum flexibility.</p>
  <pre>{{#super-code language="php"}}$script->addDefaultArguments(
    '--debug',
    '--use-tap-report',
    '--loop'
);
$runner->addTestsFromDirectory(__DIR__ . '/Test/Unit/');
// …{{/super-code}}</pre>
    <p>Note the global <code>$script</code> and <code>$runner</code> variables:
    Reach any part of atoum to fit in your own workflow.</p>
  </section>

  <section class="visual-section">
    <h2>Third-party integration</h2>

    <p>atoum integrates well with the following non-exhaustive softwares or
    services:</p>
    <ul class="columns" data-columns="3" style="margin: 0 auto; max-width: 500px">
      <li><a href="https://atom.io/">Atom</a>,</li>
      <li><a href="https://circleci.com/">Circle CI</a>,</li>
      <li><a href="https://getcomposer.org/">Composer</a>,</li>
      <li><a href="http://portablegvim.sourceforge.net/">GVim</a>,</li>
      <li><a href="https://jenkins-ci.org/">Jenkins</a>,</li>
      <li><a href="https://maven.apache.org/">Maven</a>,</li>
      <li><a href="https://www.jetbrains.com/phpstorm/">PHPStorm</a>,</li>
      <li><a href="http://www.phing.info/">Phing</a>,</li>
      <li><a href="https://scrutinizer-ci.com/">Scrutinizer CI</a>,</li>
      <li><a href="http://www.sublimetext.com/">Sublime Text</a>,</li>
      <li><a href="https://travis-ci.org/">Travis CI</a>,</li>
      <li><a href="http://www.vim.org/">Vim</a>,</li>
      <li><a href="https://wiki.gnome.org/Apps/Gedit">gedit</a>,</li>
      <li><a href="https://github.com/macvim-dev/macvim">macvim</a>.</li>
    </ul>
  </section>

  <section class="visual-section">
    <h2>Fast</h2>

    <p>First, atoum comes with a concurrent engine, which makes it fast (and
    secure) by default. Second, atoum is lightweight. For instance, the
    following table shows the time and memory required to run atoum's test suite
    and <a href="http://hoa-project.net/">Hoa</a>'s test suite, which are known
    to be important and intensive, both in terms of computation and memory:</p>
    <table style="max-width: 500px">
      <caption>This table illustrates how fast atoum is by showing numbers about
      big test suites.</caption>
      <thead>
        <tr>
          <th></th>
          <th>atoum</th>
          <th>Hoa</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Test suites</td>
          <td>224</td>
          <td>81</td>
        </tr>
        <tr>
          <td>Test cases</td>
          <td>1816</td>
          <td>611</td>
        </tr>
        <tr>
          <td>Assertions</td>
          <td>26,774</td>
          <td>177,976</td>
        </tr>
        <tr class="table--double-separator">
          <td>Time</td>
          <td>25s</td>
          <td>93s</td>
        </tr>
        <tr>
          <td>Memory</td>
          <td>58Mb</td>
          <td>50Mb</td>
        </tr>
      </tbody>
    </table>
    <p>In the case of Hoa's test suite, test data are generated on-the-fly with
    advanced algorithms. atoum's test data are randomly generated
    on-the-fly.</p>
  </section>

  <section class="visual-section">
    <h2>Extensions</h2>

    <p>atoum is extensible. The community writes extensions and the organization
    of atoum hosts and maintains some of them, like:</p>
    <ul>
      <li><a href="https://github.com/atoum/bdd-extension"><code>atoum/bdd-extension</code></a>,
      to write BDD-like test cases,</li>
      <li><a href="https://github.com/atoum/reports-extension"><code>atoum/reports-extension</code></a>,
      to write code coverage reports (showing branch and path coverage on the
      code or on the control flow graph),</li>
      <li><a href="https://github.com/atoum/ruler-extension"><code>atoum/ruler-extension</code></a>,
      to precisely filter test cases to run with a “natural language”,</li>
      <li><a href="https://github.com/atoum/json-schema-extension"><code>atoum/json-schema-extension</code></a>,
      to validate JSON documents with new asserters,</li>
      <li><a href="https://github.com/atoum/visibility-extension"><code>atoum/visibility-extension</code></a>,
      to bypass the visibility of methods.</li>
    </ul>
    <p>Most of the time, to install an extension you will just need to include
    it in your dependencies and add one line in your configuration file,
    like:</p>
    <pre>{{#super-code language="php"}}$runner->addExtension(new mageekguy\atoum\ruler\extension());{{/super-code}}</pre>
  </section>
</script>

<script type="text/x-handlebars" id="sources">
  <h1>Sources</h1>

  <p class="header__paragraph">atoum is easy to install</p>

  <h2>Release process</h2>

  <p>Historically, atoum is a
  <a href="https://en.wikipedia.org/wiki/Rolling_release">rolling-release</a>
  software, it means without any versions. While this is very challenging
  because no regression must be introduced, this is not always comfortable for
  atoum's users that need versions, especially with a quality tool. That's why
  atoum uses <a href="http://www.semver.org/">the semantic versioning
  specification</a> too.</p>
  <p><a href="https://github.com/atoum/atoum/releases/latest">Latest atoum's
  version</a> is: <code>2.3.0</code>. A
  <a href="https://github.com/atoum/atoum/blob/master/CHANGELOG.md"><code>CHANGELOG.md</code>
  file</a> is maintained up-to-date.</p>

  <p>atoum has 2 release managers. They apply the following rules:</p>
  <ol>
    <li>If a bug has been fixed, a new version is released as soon as
    possible (it addresses the <code>z</code> in <code>x.y.z</code>),</li>
    <li>Every 6 weeks, a new version is released containing the new
    features (it addresses the <code>y</code> in <code>x.y.z</code>),</li>
    <li>If a backward-compatibility break is required, 2 new versions are
    released: A first one only with the new features and a second one only with
    the backward-compatibility break (it addresses the <code>x</code> in
    <code>x.y.z</code>).</li>
  </ol>
  <p>Current release managers have been elected by the community and they are:
  Mikaël Randy and Ivan Enderlin.</p>

  <h2>With Composer</h2>

  <p>The <a href="https://getcomposer.org/">Composer</a> tool is a dependency
  manager. All atoum's projects are registered on
  <a href="https://packagist.org/search/?q=atoum/">Packagist</a> repository
  under the names <code>atoum/<em>project</em></code>. Thus, the unit
  framework is registered under <code>atoum/atoum</code> and extensions are
  registered under <code>atoum/<em>extension-name</em>-extension</code>.
  Consequently, assuming Composer is already installed, we need to write the
  following document in a <code>composer.</code> file:</p>
  <pre>{{#super-code language="json"}}{
    "require-dev": {
        "atoum/atoum": "~2.0"
    }
}{{/super-code}}</pre>
  <p>This notation means: All versions greater than <code>2.0</code> and lower
  than <code>3.0</code>, i.e. the latest safe major version until the next
  incompatible change in the API.</p>
  <p>One might notice that <code>atoum/atoum</code> has been added as a
  <code>require-dev</code>, saying a development requirement. In fact, we are
  more likely to use atoum as a development tool rather than a production tool.
  Running tests in production does not sound a good idea. This may be done
  before releasing a software.</p>
  <p>Thus, to finally install atoum, simply run:</p>
  <pre>{{#super-code language="shell"}}$ composer install{{/super-code}}</pre>
  <p>Composer also comes with a handy command-line tool that will save (by
  writing in the appropriate <code>composer.json</code> file) and install your
  dependency directly:</p>
  <pre>{{#super-code language="shell"}}$ composer require --dev atoum/atoum{{/super-code}}</pre>
  <p>Composer will try to use a version syntax allowing to safely update to the
  latest version.</p>

  <h2>With a PHAR</h2>

  <h2>Repositories</h2>

  <p><a href="https://github.com/atoum/atoum">Repositories are hosted on
  Github</a> under the eponym organization: atoum.</p>
</script>

<script type="text/x-handlebars" id="community">
  <h1>Community</h1>
</script>

<script type="text/x-handlebars" id="about">
  <h1>About</h1>
</script>

<script src="/Static/Vendor/jquery/dist/jquery.min.js"></script>
<script src="/Static/Vendor/ember/ember.min.js"></script>
<script src="/Static/Vendor/ember/ember-template-compiler.js"></script>
<script src="/Static/Vendor/ember-data/ember-data.min.js"></script>
<script src="/Static/Javascript/Application.js"></script>
<script src="https://buttons.github.io/buttons.js" async defer id="github-bjs"></script>
<script src="/Static/Vendor/prism/prism.js"></script>
<script src="/Static/Vendor/prism/components/prism-php.js" async defer></script>
<script src="/Static/Vendor/prism/plugins/line-numbers/prism-line-numbers.js" async defer></script>

</body>
</html>
